import{j as e,k as c,b as f,l as m}from"./ui-vendor-D3PMVtZL.js";import{F as x,c as g,a as j,b as d,d as b,e as y}from"./form-vendor-BnGNfchx.js";import{u as v,i as P,r as u,L as N}from"./react-vendor-BTD5Khka.js";import{A as R,g as E}from"./errors-Ca1wdunW.js";import{p as S}from"./validation-pFPR-6Hh.js";import{R as p}from"./constants-3f2xZCRM.js";import{u as T,T as t}from"./i18n-vendor-B7pUcQZv.js";import"./date-vendor-CIb3pPOI.js";function $(){const{t:r}=T(),i=v(),[w]=P(),n=w.get("token"),l=u.useRef(null);u.useEffect(()=>{var a;(a=l.current)==null||a.focus()},[n,i,r]);const h=async a=>{try{if(!n)throw new R(r("Invalid or missing reset token"));await new Promise(o=>setTimeout(o,1500)),m({title:r("Success"),color:"success",description:r("Your password has been reset successfully"),timeout:2e3,shouldShowTimeoutProgress:!0}),i(p.LOGIN)}catch(o){const s=E(o,r("An error occurred while resetting your password"));I(r,s)}};return e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-center",children:e.jsx(t,{children:"Reset your password"})}),e.jsx("p",{className:"text-sm text-gray-500 font-medium mb-8 text-center",children:e.jsx(t,{children:"Enter your new password below to complete the reset process"})})]}),e.jsx(x,{initialValues:{password:"",confirmPassword:""},validationSchema:k(r),onSubmit:h,children:({isSubmitting:a})=>e.jsxs(j,{className:"flex flex-col gap-2",children:[e.jsx(d,{name:"password",children:({field:o,meta:s})=>e.jsx(c,{...o,ref:l,type:"password",label:s.touched&&s.error?r(s.error):r("New Password"),autoComplete:"new-password",placeholder:r("Enter your new password"),isInvalid:s.touched&&!!s.error,description:r("Must be at least 8 characters with uppercase, lowercase, and number"),"aria-label":r("New password"),"aria-required":"true","aria-invalid":s.touched&&!!s.error})}),e.jsx(d,{name:"confirmPassword",children:({field:o,meta:s})=>e.jsx(c,{...o,type:"password",label:s.touched&&s.error?r(s.error):r("Confirm Password"),autoComplete:"new-password",placeholder:r("Confirm your new password"),isInvalid:s.touched&&!!s.error,"aria-label":r("Confirm password"),"aria-required":"true","aria-invalid":s.touched&&!!s.error})}),e.jsx(f,{className:"mt-4",type:"submit",isLoading:a,color:"primary",variant:"shadow",radius:"full",fullWidth:!0,"aria-label":r("Reset password button"),children:e.jsx(t,{children:"Reset password"})})]})}),e.jsxs("p",{className:"text-center text-sm text-gray-500 font-medium my-4",children:[e.jsx(t,{children:"Remember your password?"})," ",e.jsx(N,{to:p.LOGIN,className:"text-primary font-medium hover:underline transition-colors","aria-label":r("Navigate to login page"),children:e.jsx(t,{children:"Sign in"})})]})]})}const k=r=>g().shape({password:S(r),confirmPassword:b().oneOf([y("password")],r("Passwords must match")).required(r("Please confirm your password"))}),I=(r,i)=>m({title:r("Error"),color:"danger",description:i||r("An error occurred while resetting your password"),timeout:4e3,shouldShowTimeoutProgress:!0});export{$ as default};
