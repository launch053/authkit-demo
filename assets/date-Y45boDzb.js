import{r as n,c as w,j as a,l as k,T as A}from"./react-vendor-AsFLCtLt.js";import{q as E,b as x,j as g,t as N,$ as P,r as y}from"./ui-vendor-vFVSZp0F.js";function C({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const v=n.forwardRef(C);function L({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const D=n.forwardRef(L);function M({avatarPreview:e,existingAvatar:t,fileInputRef:r,handleAvatarChange:o,errors:h,touched:m,size:l=128,showUploadButton:f=!0}){const{t:s}=w(),u=e||t||"https://i.pravatar.cc/300?img=12",d=i=>i>=128?"w-32 h-32":i>=96?"w-24 h-24":"w-16 h-16",b=i=>i>=128?"w-8 h-8":i>=96?"w-6 h-6":"w-4 h-4",p=d(l),j=b(l),$=l>=128;return a.jsx(k,{name:"avatar",children:({form:i})=>a.jsxs("div",{className:"flex flex-col items-center gap-3 mb-4",children:[a.jsxs("div",{className:"relative",children:[e||t?a.jsxs("div",{className:"relative",children:[a.jsx(E,{src:u,alt:s("Profile picture"),className:`${p} rounded-full object-cover ${$?"shadow-lg":""}`,width:l,height:l,radius:"full"}),a.jsx(x,{isIconOnly:!0,size:"sm",radius:"full",color:"primary",variant:"solid",className:"absolute bottom-0 right-0 z-10",onPress:()=>{var c;return(c=r.current)==null?void 0:c.click()},"aria-label":s("Change profile picture"),children:a.jsx(v,{className:"w-4 h-4"})})]}):f&&a.jsx(x,{radius:"full",variant:"bordered",className:p,onPress:()=>{var c;return(c=r.current)==null?void 0:c.click()},"aria-label":s("Upload profile picture"),children:a.jsx(v,{className:`${j} text-gray-400`})}),a.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:c=>o(c,i.setFieldValue),"aria-label":s("Profile picture file input")})]}),m.avatar&&h.avatar&&a.jsx("p",{className:"text-xs text-danger",children:s(h.avatar)}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:a.jsx(A,{children:"Upload a profile picture (optional, max 5MB)"})})]})})}function S(){const{t:e}=w(),[t,r]=n.useState(null),o=n.useRef(null);return{avatarPreview:t,fileInputRef:o,handleAvatarChange:(l,f)=>{var u;const s=(u=l.target.files)==null?void 0:u[0];if(s){if(!s.type.startsWith("image/")){g({title:e("Error"),color:"danger",description:e("Please select a valid image file"),timeout:3e3,shouldShowTimeoutProgress:!0});return}if(s.size>5*1024*1024){g({title:e("Error"),color:"danger",description:e("Image size must be less than 5MB"),timeout:3e3,shouldShowTimeoutProgress:!0});return}f("avatar",s);const d=new FileReader;d.onloadend=()=>{r(d.result)},d.readAsDataURL(s)}},resetAvatarPreview:()=>{r(null)}}}function T(){const e=N(P());return{minDate:new y(e.year-100,1,1),maxDate:e}}export{M as A,D as F,T as g,S as u};
