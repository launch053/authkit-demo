import{r as l}from"./react-vendor-BTD5Khka.js";import{z as Q,A as X,u as Y,r as ee,B as ae,C as R,v as re,w as B,x as W,y as te,j as i,b as F,l as z}from"./ui-vendor-D3PMVtZL.js";import{b as se}from"./form-vendor-BnGNfchx.js";import{u as D,T as oe}from"./i18n-vendor-B7pUcQZv.js";import{l as ne,d as le,n as ie}from"./date-vendor-CIb3pPOI.js";function ce({title:e,titleId:o,...n},u){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":o},n),e?l.createElement("title",{id:o},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const M=l.forwardRef(ce);function de({title:e,titleId:o,...n},u){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":o},n),e?l.createElement("title",{id:o},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const we=l.forwardRef(de);function ue(e={}){const{onLoad:o,onError:n,ignoreFallback:u,src:a,crossOrigin:p,srcSet:m,sizes:f,loading:r,shouldBypassImageLoad:v=!1}=e,t=Q(),c=l.useRef(t?new Image:null),[b,h]=l.useState("pending");l.useEffect(()=>{c.current&&(c.current.onload=s=>{g(),h("loaded"),o==null||o(s)},c.current.onerror=s=>{g(),h("failed"),n==null||n(s)})},[c.current]);const g=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)},d=l.useCallback(()=>{if(!a)return"pending";if(u||v)return"loaded";const s=new Image;return s.src=a,p&&(s.crossOrigin=p),m&&(s.srcset=m),f&&(s.sizes=f),r&&(s.loading=r),c.current=s,s.complete&&s.naturalWidth?"loaded":"loading"},[a,p,m,f,o,n,r,v]);return X(()=>{t&&h(d())},[t,d]),u?"loaded":b}function me(e){var o,n;const u=Y(),[a,p]=ee(e,R.variantKeys),{ref:m,as:f,src:r,className:v,classNames:t,loading:c,isBlurred:b,fallbackSrc:h,isLoading:g,disableSkeleton:d=!!h,removeWrapper:s=!1,onError:T,onLoad:Z,srcSet:j,sizes:k,crossOrigin:I,...y}=a,N=ue({src:r,loading:c,onError:T,onLoad:Z,ignoreFallback:!1,srcSet:j,sizes:k,crossOrigin:I,shouldBypassImageLoad:f!==void 0}),P=(n=(o=e.disableAnimation)!=null?o:u==null?void 0:u.disableAnimation)!=null?n:!1,S=N==="loaded"&&!g,C=N==="loading"||g,U=e.isZoomed,V=f||"img",$=ae(m),{w:L,h:H}=l.useMemo(()=>({w:a.width?typeof a.width=="number"?`${a.width}px`:a.width:"fit-content",h:a.height?typeof a.height=="number"?`${a.height}px`:a.height:"auto"}),[a==null?void 0:a.width,a==null?void 0:a.height]),A=(!r||!S)&&!!h,E=C&&!d,w=l.useMemo(()=>R({...p,disableAnimation:P,showSkeleton:E}),[re(p),P,E]),_=B(v,t==null?void 0:t.img),K=(x={})=>{const J=B(_,x==null?void 0:x.className);return{src:r,ref:$,"data-loaded":W(S),className:w.img({class:J}),loading:c,srcSet:j,sizes:k,crossOrigin:I,...y,style:{...(y==null?void 0:y.height)&&{height:H},...x.style,...y.style}}},q=l.useCallback(()=>{const x=A?{backgroundImage:`url(${h})`}:{};return{className:w.wrapper({class:t==null?void 0:t.wrapper}),style:{...x,maxWidth:L}}},[w,A,h,t==null?void 0:t.wrapper,L]),G=l.useCallback(()=>({src:r,"aria-hidden":W(!0),className:w.blurredImg({class:t==null?void 0:t.blurredImg})}),[w,r,t==null?void 0:t.blurredImg]);return{Component:V,domRef:$,slots:w,classNames:t,isBlurred:b,disableSkeleton:d,fallbackSrc:h,removeWrapper:s,isZoomed:U,isLoading:C,getImgProps:K,getWrapperProps:q,getBlurredImgProps:G}}var O=te((e,o)=>{const{Component:n,domRef:u,slots:a,classNames:p,isBlurred:m,isZoomed:f,fallbackSrc:r,removeWrapper:v,disableSkeleton:t,getImgProps:c,getWrapperProps:b,getBlurredImgProps:h}=me({...e,ref:o}),g=i.jsx(n,{ref:u,...c()});if(v)return g;const d=i.jsx("div",{className:a.zoomedWrapper({class:p==null?void 0:p.zoomedWrapper}),children:g});return m?i.jsxs("div",{...b(),children:[f?d:g,l.cloneElement(g,h())]}):f||!t||r?i.jsxs("div",{...b(),children:[" ",f?d:g]}):g});O.displayName="HeroUI.Image";var fe=O;function xe({avatarPreview:e,existingAvatar:o,fileInputRef:n,handleAvatarChange:u,errors:a,touched:p,size:m=128,showUploadButton:f=!0}){const{t:r}=D(),v=e||o||"https://i.pravatar.cc/300?img=12",t=d=>d>=128?"w-32 h-32":d>=96?"w-24 h-24":"w-16 h-16",c=d=>d>=128?"w-8 h-8":d>=96?"w-6 h-6":"w-4 h-4",b=t(m),h=c(m),g=m>=128;return i.jsx(se,{name:"avatar",children:({form:d})=>i.jsxs("div",{className:"flex flex-col items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative",children:[e||o?i.jsxs("div",{className:"relative",children:[i.jsx(fe,{src:v,alt:r("Profile picture"),className:`${b} rounded-full object-cover ${g?"shadow-lg":""}`,width:m,height:m,radius:"full"}),i.jsx(F,{isIconOnly:!0,size:"sm",radius:"full",color:"primary",variant:"solid",className:"absolute bottom-0 right-0 z-10",onPress:()=>{var s;return(s=n.current)==null?void 0:s.click()},"aria-label":r("Change profile picture"),children:i.jsx(M,{className:"w-4 h-4"})})]}):f&&i.jsx(F,{radius:"full",variant:"bordered",className:b,onPress:()=>{var s;return(s=n.current)==null?void 0:s.click()},"aria-label":r("Upload profile picture"),children:i.jsx(M,{className:`${h} text-gray-400`})}),i.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:s=>u(s,d.setFieldValue),"aria-label":r("Profile picture file input")})]}),p.avatar&&a.avatar&&i.jsx("p",{className:"text-xs text-danger",children:r(a.avatar)}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:i.jsx(oe,{children:"Upload a profile picture (optional, max 5MB)"})})]})})}function ye(){const{t:e}=D(),[o,n]=l.useState(null),u=l.useRef(null);return{avatarPreview:o,fileInputRef:u,handleAvatarChange:(m,f)=>{var v;const r=(v=m.target.files)==null?void 0:v[0];if(r){if(!r.type.startsWith("image/")){z({title:e("Error"),color:"danger",description:e("Please select a valid image file"),timeout:3e3,shouldShowTimeoutProgress:!0});return}if(r.size>5*1024*1024){z({title:e("Error"),color:"danger",description:e("Image size must be less than 5MB"),timeout:3e3,shouldShowTimeoutProgress:!0});return}f("avatar",r);const t=new FileReader;t.onloadend=()=>{n(t.result)},t.readAsDataURL(r)}},resetAvatarPreview:()=>{n(null)}}}function je(){const e=ne(le());return{minDate:new ie(e.year-100,1,1),maxDate:e}}export{xe as A,we as F,je as g,fe as i,ye as u};
