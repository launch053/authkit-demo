import{u as I,r as W,t as A,v as U,w as k,x as O,y as q,j as e,f as L,g as R,b as y,k as _,n as z,l as $}from"./ui-vendor-D3PMVtZL.js";import{r as t}from"./react-vendor-BTD5Khka.js";import{u as H,g as J,i as K,F as B,A as X}from"./date-ByGtyLt9.js";import{d as Y,n as Z}from"./date-vendor-CIb3pPOI.js";import{F as G,c as Q,a as ee,b as P}from"./form-vendor-BnGNfchx.js";import{b as ae,a as te,n as re,c as se}from"./validation-pFPR-6Hh.js";import{u as ne,T as E}from"./i18n-vendor-B7pUcQZv.js";function le({title:a,titleId:r,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const oe=t.forwardRef(le);function ie({title:a,titleId:r,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const de=t.forwardRef(ie);function ce({title:a,titleId:r,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ue=t.forwardRef(ce);function me({title:a,titleId:r,...n},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},n),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const he=t.forwardRef(me);function fe(a){var r,n;const s=I(),[m,u]=W(a,A.variantKeys),{as:f,children:h,isLoaded:p=!1,className:l,classNames:o,...j}=m,w=f||"div",g=(n=(r=a.disableAnimation)!=null?r:s==null?void 0:s.disableAnimation)!=null?n:!1,v=t.useMemo(()=>A({...u,disableAnimation:g}),[U(u),g,h]),N=k(o==null?void 0:o.base,l);return{Component:w,children:h,slots:v,classNames:o,getSkeletonProps:(i={})=>({"data-loaded":O(p),className:v.base({class:k(N,i==null?void 0:i.className)}),...j}),getContentProps:(i={})=>({className:v.content({class:k(o==null?void 0:o.content,i==null?void 0:i.className)})})}}var D=q((a,r)=>{const{Component:n,children:s,getSkeletonProps:m,getContentProps:u}=fe({...a});return e.jsx(n,{ref:r,...m(),children:e.jsx("div",{...u(),children:s})})});D.displayName="HeroUI.Skeleton";var b=D;function xe(a){const[r,n]=t.useState(null),[s,m]=t.useState(null),[u,f]=t.useState(!1),[h,p]=t.useState(0),l=t.useCallback(()=>p(o=>o+1),[]);return t.useEffect(()=>{f(!0),a().then(o=>n(o)).catch(o=>m(o)).finally(()=>f(!1))},[h]),{data:r,error:s,loading:u,refetch:l}}function ke(){const{t:a,i18n:r}=ne(),[n,s]=t.useState(!1),{avatarPreview:m,fileInputRef:u,handleAvatarChange:f,resetAvatarPreview:h}=H(),p=async()=>(await new Promise(i=>setTimeout(i,1500)),{id:"1",name:"John Doe",email:"john.doe@example.com",phone:"+1 (555) 123-4567",avatar:"https://i.pravatar.cc/300?img=12",birthdate:new Z(1990,5,15),gender:"male"}),{data:l,loading:o,error:j,refetch:w}=xe(()=>p()),{minDate:g,maxDate:v}=J(),N=async i=>{try{await new Promise(x=>setTimeout(x,1e3)),$({title:a("Success"),color:"success",description:a("Profile updated successfully"),timeout:3e3,shouldShowTimeoutProgress:!0}),s(!1),h(),w()}catch{$({title:a("Error"),color:"danger",description:a("Failed to update profile"),timeout:3e3,shouldShowTimeoutProgress:!0})}},C=()=>Q().shape({avatar:se(a),name:re(a),phone:te(a),birthdate:ae(a)}),S=i=>{if(!i)return a("Not provided");const x=i.toDate(Y());return new Intl.DateTimeFormat(r.language,{year:"numeric",month:"long",day:"numeric"}).format(x)};return j?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[e.jsx("p",{className:"text-danger text-lg font-medium",children:a("Error loading profile")}),e.jsx("p",{className:"text-default-500 text-sm",children:j.message})]}):e.jsx("div",{className:"w-full",children:o?e.jsx(L,{className:"w-full",children:e.jsxs(R,{className:"pt-20 pb-8 px-6",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(b,{className:"w-32 h-32 rounded-full"})}),e.jsxs("div",{className:"text-center space-y-2 mb-8",children:[e.jsx(b,{className:"h-7 w-40 rounded-lg mx-auto"}),e.jsx(b,{className:"h-4 w-56 rounded-lg mx-auto"})]}),e.jsxs("div",{className:"flex justify-center gap-6 pt-6 border-t border-divider",children:[e.jsx(b,{className:"h-4 w-20 rounded-lg"}),e.jsx(b,{className:"h-4 w-24 rounded-lg"})]})]})}):l?e.jsx(L,{className:"w-full",children:e.jsx(R,{className:"pt-20 pb-8 px-6",children:n?e.jsx(G,{initialValues:{avatar:null,name:l.name,phone:l.phone,birthdate:l.birthdate},validationSchema:C(),onSubmit:N,children:({isSubmitting:i,values:x,setFieldValue:F,setFieldTouched:T,errors:V,touched:M})=>e.jsxs(ee,{className:"space-y-4",children:[e.jsx(X,{avatarPreview:m,existingAvatar:l.avatar,fileInputRef:u,handleAvatarChange:f,errors:V,touched:M,size:128,showUploadButton:!1}),e.jsx("div",{className:"text-center mb-6",children:e.jsx("p",{className:"text-default-500 text-sm",children:l.email})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{name:"name",children:({field:c,meta:d})=>e.jsx(_,{...c,label:d.touched&&d.error?a(d.error):a("Full Name"),placeholder:a("Enter your full name"),isInvalid:d.touched&&!!d.error,variant:"bordered","aria-label":a("Full name"),"aria-required":"true"})}),e.jsx(P,{name:"phone",children:({field:c,meta:d})=>e.jsx(_,{...c,label:d.touched&&d.error?a(d.error):a("Phone Number"),type:"tel",placeholder:a("Enter your phone number"),startContent:e.jsx(B,{className:"w-5 h-5 text-default-400"}),isInvalid:d.touched&&!!d.error,variant:"bordered","aria-label":a("Phone number"),"aria-required":"true"})}),e.jsx(P,{name:"birthdate",children:({meta:c})=>e.jsx(z,{label:c.touched&&c.error?a(c.error):a("Date of Birth"),value:x.birthdate||null,onChange:d=>{F("birthdate",d,!0),T("birthdate",!0,!1)},minValue:g,maxValue:v,showMonthAndYearPickers:!0,isInvalid:c.touched&&!!c.error,variant:"bordered","aria-label":a("Date of Birth"),"aria-required":"true"})})]}),e.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[e.jsx(y,{type:"submit",color:"primary",variant:"shadow",radius:"full",fullWidth:!0,isLoading:i,startContent:e.jsx(de,{className:"w-4 h-4"}),"aria-label":a("Save profile"),children:e.jsx(E,{children:"Save"})}),e.jsx(y,{type:"button",variant:"light",radius:"full",fullWidth:!0,onPress:()=>{s(!1),h()},startContent:e.jsx(he,{className:"w-4 h-4"}),"aria-label":a("Cancel editing"),children:e.jsx(E,{children:"Cancel"})})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"relative",children:e.jsx(K,{isBlurred:!0,alt:a("Profile picture"),src:l.avatar||"https://i.pravatar.cc/300?img=12",width:128,height:128,className:"object-cover shadow-lg",radius:"full"})})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:l.name}),e.jsx("p",{className:"text-default-500 text-base",children:l.email})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4 pt-6 border-t border-divider",children:[e.jsxs("div",{className:"flex justify-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-default-500",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:l.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-default-500",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:S(l.birthdate)})]})]}),e.jsx(y,{size:"md",variant:"light",radius:"full",startContent:e.jsx(ue,{className:"w-4 h-4"}),onPress:()=>s(!0),className:"mt-2",fullWidth:!0,"aria-label":a("Edit profile"),children:e.jsx(E,{children:"Edit"})})]})]})})}):null})}export{ke as default};
