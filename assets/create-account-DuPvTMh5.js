import{j as r,k as d,n as N,o as S,p as A,b as C,l as m}from"./ui-vendor-D3PMVtZL.js";import{F as E,c as R,a as F,b as c,d as P}from"./form-vendor-BnGNfchx.js";import{u as _,g as I,A as T,F as V}from"./date-ByGtyLt9.js";import{r as h,L as q}from"./react-vendor-BTD5Khka.js";import{g as D}from"./errors-Ca1wdunW.js";import{a as G,b as k,n as B,c as L}from"./validation-pFPR-6Hh.js";import{R as M}from"./constants-3f2xZCRM.js";import{u as O,T as i}from"./i18n-vendor-B7pUcQZv.js";import"./date-vendor-CIb3pPOI.js";const U=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer-not-to-say",label:"Prefer not to say"}];function re(){const{t:e}=O(),s=h.useRef(null),{avatarPreview:x,fileInputRef:f,handleAvatarChange:p}=_(),{minDate:g,maxDate:b}=I();h.useEffect(()=>{var l;(l=s.current)==null||l.focus()},[]);const v=async l=>{try{await new Promise(o=>setTimeout(o,1500)),m({title:e("Success"),color:"success",description:e("Account created successfully"),timeout:2e3,shouldShowTimeoutProgress:!0})}catch(o){const n=D(o,e("An error occurred while creating your account"));$(e,n)}};return r.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-center",children:r.jsx(i,{children:"Create your account"})}),r.jsx("p",{className:"text-sm text-gray-500 font-medium mb-8 text-center",children:r.jsx(i,{children:"Complete your profile by adding your information below"})})]}),r.jsx(E,{initialValues:{avatar:null,name:"",birthdate:null,gender:"",phone:""},validationSchema:z(e),onSubmit:v,children:({isSubmitting:l,setFieldValue:o,values:n,errors:j,touched:y,setFieldTouched:u})=>r.jsxs(F,{className:"flex flex-col gap-2",children:[r.jsx(T,{avatarPreview:x,existingAvatar:null,fileInputRef:f,handleAvatarChange:p,errors:j,touched:y,size:96,showUploadButton:!0}),r.jsx(c,{name:"name",children:({field:t,meta:a})=>r.jsx(d,{...t,ref:s,label:a.touched&&a.error?e(a.error):e("Full Name"),type:"text",autoComplete:"name",placeholder:e("Enter your full name"),isInvalid:a.touched&&!!a.error,"aria-label":e("Full name"),"aria-required":"true","aria-invalid":a.touched&&!!a.error})}),r.jsx(c,{name:"birthdate",children:({meta:t})=>r.jsx(N,{label:t.touched&&t.error?e(t.error):e("Date of Birth"),value:n.birthdate||null,onChange:a=>{o("birthdate",a,!0),u("birthdate",!0,!1)},minValue:g,maxValue:b,showMonthAndYearPickers:!0,isInvalid:t.touched&&!!t.error,"aria-label":e("Date of Birth"),"aria-required":"true",className:"max-w-full"})}),r.jsx(c,{name:"gender",children:({meta:t})=>r.jsx(S,{label:t.touched&&t.error?e(t.error):e("Gender"),placeholder:e("Select your gender"),selectedKeys:n.gender?new Set([n.gender]):new Set,onSelectionChange:a=>{const w=a instanceof Set&&a.size>0?String(a.values().next().value):"";o("gender",w,!0),u("gender",!0,!1)},isInvalid:t.touched&&!!t.error,"aria-label":e("Gender"),"aria-required":"true",children:U.map(a=>r.jsx(A,{children:e(a.label)},a.value))})}),r.jsx(c,{name:"phone",children:({field:t,meta:a})=>r.jsx(d,{...t,label:a.touched&&a.error?e(a.error):e("Phone Number"),type:"tel",autoComplete:"tel",placeholder:e("Enter your phone number"),startContent:r.jsx(V,{className:"w-5 h-5 text-default-400"}),isInvalid:a.touched&&!!a.error,"aria-label":e("Phone number"),"aria-required":"true","aria-invalid":a.touched&&!!a.error})}),r.jsx(C,{className:"mt-4",type:"submit",isLoading:l,color:"primary",variant:"shadow",radius:"full",fullWidth:!0,"aria-label":e("Create account button"),children:r.jsx(i,{children:"Create account"})})]})}),r.jsxs("p",{className:"text-center text-sm text-gray-500 font-medium my-4",children:[r.jsx(i,{children:"Already have an account?"})," ",r.jsx(q,{to:M.LOGIN,className:"text-primary font-medium hover:underline transition-colors","aria-label":e("Navigate to login page"),children:r.jsx(i,{children:"Sign in"})})]})]})}const z=e=>R().shape({avatar:L(e),name:B(e),birthdate:k(e),gender:P().required(e("Gender is required")),phone:G(e)}),$=(e,s)=>m({title:e("Error"),color:"danger",description:s||e("An error occurred while creating your account"),timeout:4e3,shouldShowTimeoutProgress:!0});export{re as default};
