import{c as N,r as d,j as r,T as i,F as S,h as A,k as C,l as c,L as E,m as R}from"./react-vendor-AsFLCtLt.js";import{u as F,g as P,A as _,F as I}from"./date-Y45boDzb.js";import{i as h,k as T,l as V,n as q,b as k,j as m}from"./ui-vendor-vFVSZp0F.js";import{g as D}from"./errors-Ca1wdunW.js";import{a as G,b as B,n as L,c as M}from"./validation-C3ihj2kc.js";import{R as O}from"./constants-3f2xZCRM.js";import"./i18n-vendor-Bu7WbbtU.js";const U=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer-not-to-say",label:"Prefer not to say"}];function Z(){const{t:e}=N(),s=d.useRef(null),{avatarPreview:x,fileInputRef:f,handleAvatarChange:p}=F(),{minDate:g,maxDate:b}=P();d.useEffect(()=>{var o;(o=s.current)==null||o.focus()},[]);const v=async o=>{try{await new Promise(l=>setTimeout(l,1500)),m({title:e("Success"),color:"success",description:e("Account created successfully"),timeout:2e3,shouldShowTimeoutProgress:!0})}catch(l){const n=D(l,e("An error occurred while creating your account"));$(e,n)}};return r.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-center",children:r.jsx(i,{children:"Create your account"})}),r.jsx("p",{className:"text-sm text-gray-500 font-medium mb-8 text-center",children:r.jsx(i,{children:"Complete your profile by adding your information below"})})]}),r.jsx(S,{initialValues:{avatar:null,name:"",birthdate:null,gender:"",phone:""},validationSchema:z(e),onSubmit:v,children:({isSubmitting:o,setFieldValue:l,values:n,errors:j,touched:y,setFieldTouched:u})=>r.jsxs(C,{className:"flex flex-col gap-2",children:[r.jsx(_,{avatarPreview:x,existingAvatar:null,fileInputRef:f,handleAvatarChange:p,errors:j,touched:y,size:96,showUploadButton:!0}),r.jsx(c,{name:"name",children:({field:t,meta:a})=>r.jsx(h,{...t,ref:s,label:a.touched&&a.error?e(a.error):e("Full Name"),type:"text",autoComplete:"name",placeholder:e("Enter your full name"),isInvalid:a.touched&&!!a.error,"aria-label":e("Full name"),"aria-required":"true","aria-invalid":a.touched&&!!a.error})}),r.jsx(c,{name:"birthdate",children:({meta:t})=>r.jsx(T,{label:t.touched&&t.error?e(t.error):e("Date of Birth"),value:n.birthdate||null,onChange:a=>{l("birthdate",a,!0),u("birthdate",!0,!1)},minValue:g,maxValue:b,showMonthAndYearPickers:!0,isInvalid:t.touched&&!!t.error,"aria-label":e("Date of Birth"),"aria-required":"true",className:"max-w-full"})}),r.jsx(c,{name:"gender",children:({meta:t})=>r.jsx(V,{label:t.touched&&t.error?e(t.error):e("Gender"),placeholder:e("Select your gender"),selectedKeys:n.gender?new Set([n.gender]):new Set,onSelectionChange:a=>{const w=a instanceof Set&&a.size>0?String(a.values().next().value):"";l("gender",w,!0),u("gender",!0,!1)},isInvalid:t.touched&&!!t.error,"aria-label":e("Gender"),"aria-required":"true",children:U.map(a=>r.jsx(q,{children:e(a.label)},a.value))})}),r.jsx(c,{name:"phone",children:({field:t,meta:a})=>r.jsx(h,{...t,label:a.touched&&a.error?e(a.error):e("Phone Number"),type:"tel",autoComplete:"tel",placeholder:e("Enter your phone number"),startContent:r.jsx(I,{className:"w-5 h-5 text-default-400"}),isInvalid:a.touched&&!!a.error,"aria-label":e("Phone number"),"aria-required":"true","aria-invalid":a.touched&&!!a.error})}),r.jsx(k,{className:"mt-4",type:"submit",isLoading:o,color:"primary",variant:"shadow",radius:"full",fullWidth:!0,"aria-label":e("Create account button"),children:r.jsx(i,{children:"Create account"})})]})}),r.jsxs("p",{className:"text-center text-sm text-gray-500 font-medium my-4",children:[r.jsx(i,{children:"Already have an account?"})," ",r.jsx(E,{to:O.LOGIN,className:"text-primary font-medium hover:underline transition-colors","aria-label":e("Navigate to login page"),children:r.jsx(i,{children:"Sign in"})})]})]})}const z=e=>A().shape({avatar:M(e),name:L(e),birthdate:B(e),gender:R().required(e("Gender is required")),phone:G(e)}),$=(e,s)=>m({title:e("Error"),color:"danger",description:s||e("An error occurred while creating your account"),timeout:4e3,shouldShowTimeoutProgress:!0});export{Z as default};
